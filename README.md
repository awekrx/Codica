## Задача

Розробити API для побудови веб та мобільного додатків.

-   ✓ У додатку є Банки (Bank), Транзакції (Transaction) та Категорії Транзакцій (Category).
-   ✓ У додатку можна додати нові банки та категорії транзакцій.
-   ✓ Транзакції надходять на окремий Webhook.
-   ✓ У транзакції може бути більше однієї категорії.
-   ✓ Видалення банків та категорій можливе лише за відсутності транзакцій у них.
-   ✓ Можливе вилучення транзакцій.
-   ✓ Баланс у банку повинен перераховуватись при додаванні або видаленні транзакцій
    (або бути розрахованим на основі наявних транзакцій).

## Методи

Bank: створити, видалити, отримати один, отримати все, відредагувати

-   Bank: створити, видалити, отримати один, отримати все, відредагувати

-   ✓ Transaction: створити (webhook), видалити, отримати все
    -   ✓ Для отримання всіх транзакцій необхідно реалізувати пагінацію
    -   Для webhook, за бажанням, можна додати api key authorization
-   ✓ Category: створити, видалити, отримати одну, отримати все, відредагувати
-   ✓ Метод отримання статистики
    -   ✓ Приймає categoryIds, fromPeriod, toPeriod
    -   ✓ Повертає об'єкт у форматі { ім'я категорії: баланс }, наприклад: { їжа: -2500,
        зарплата: +12000, бензин: -700}

## Бонусні завдання

Ці завдання не оцінюються в першу чергу, але матимуть вагу за наявності рівнозначних
схожих реалізацій:

-   Покрити функціональність API сервера тестами (Unit, Request/Integration) **(Треба багато часу, щоб розібратися з тестуванням, тому без нього, нажаль)**
-   ✓ Реалізувати Логування
-   Реалізувати Глобальну обробку помилок **(Не дуже зрозумів, що треба зробити)**

## Після реалізації

При направленні ТЗ на перевірку, необхідно додатково надати інформацію:

-   Чи використовували ви якісь додаткові бібліотеки? Якщо так, то навіщо?
    -   Я використовував бібліотеку winston, nest-winston, winston-daily-rotate-file для створення логування за днями та бібліотеку swagger-ui для створення документації у вигляді документу. Інші бібліотеки є стандартними для NestJS.
-   Скільки приблизно часу зайняло виконання тестового?
    -   Приблизно 6-7 годин з оформленям цього на Github
-   Якби треба було вивести цей проєкт у продакшн, що б ви покращили?
    -   Я додав би:
        1.  шифрування, тому що працюэмо з транзакціями і у справжніх реаліях в них буде більше інформації
        2.  Створив би розподілену систему серверів для розподілення навантаження
        3.  Можна було б розбити на мікросервіси
        4.  Додати Cloudflare або щось інше для захисту від злоякісних атак

## ER-diagram

<p align="center">
  <img src="/images/ER-diagram.png" alt="ER-diagram" />
</p>

## Installation

```bash
$ npm clone https://github.com/awekrx/Codica.git
```

## Running the app

Файл для Docker'у працює на production-збірці

```bash
$ docker-compose build
$ docker-compose up
```

## Documentation

Після запуску за допомогою swagger-ui створена документація, яка доступна за <a href="http://localhost:5000/docs">цим енд-поїнтом </a>
